# üîÑ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å monolith `functions.php` (3500+ —Å—Ç—Ä–æ–∫) –Ω–∞ –º–æ–¥—É–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É ParusWeb Functions.

---

## üìä –û–±–∑–æ—Ä –º–∏–≥—Ä–∞—Ü–∏–∏

### –ë—ã–ª–æ
```
functions.php ‚Äî 3500+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
‚îú‚îÄ‚îÄ –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ –°–ª–æ–∂–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
‚îú‚îÄ‚îÄ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–æ—á–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
‚îî‚îÄ‚îÄ –†–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
```

### –°—Ç–∞–ª–æ
```
ParusWeb Functions ‚Äî 39 –º–æ–¥—É–ª–µ–π
‚îú‚îÄ‚îÄ –ß—ë—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îú‚îÄ‚îÄ –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥—É–ª–∏
‚îú‚îÄ‚îÄ –í—ã–±–æ—Ä–æ—á–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è
‚îú‚îÄ‚îÄ –°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îî‚îÄ‚îÄ –ü—Ä–æ—Å—Ç–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
```

---

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚úÖ

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** –†–∞–±–æ—á–∏—Ö —Å–∞–π—Ç–æ–≤ —Å —Ç—Ä–∞—Ñ–∏–∫–æ–º

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω
2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏
3. –°—Ç–∞—Ä—ã–π `functions.php` —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
4. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–µ –∫–æ–¥
5. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–∞–∂–¥—ã–π —à–∞–≥
6. –£–¥–∞–ª—è–π—Ç–µ —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –ø–æ —á–∞—Å—Ç—è–º

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫
- –õ–µ–≥–∫–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö

**–í—Ä–µ–º—è:** 2-4 –Ω–µ–¥–µ–ª–∏

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: –ü–æ–ª–Ω–∞—è (–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö) ‚ö°

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** –¢–µ—Å—Ç–æ–≤—ã—Ö —Å–∞–π—Ç–æ–≤, –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω
3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤—Å–µ –º–æ–¥—É–ª–∏
4. –£–¥–∞–ª–∏—Ç–µ –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥ –∏–∑ `functions.php`
5. –¢—â–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
6. –î–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë—ã—Å—Ç—Ä–æ
- –°—Ä–∞–∑—É —á–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–í—Ä–µ–º—è:** 1-3 –¥–Ω—è

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è 3: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è (–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è) üõ°Ô∏è

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —Å–∞–π—Ç–æ–≤

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Å–∞–π—Ç –Ω–∞ staging
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ staging
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ 1-2 –Ω–µ–¥–µ–ª–∏
4. –î–µ–ø–ª–æ–π –Ω–∞ production

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–í—Ä–µ–º—è:** 3-4 –Ω–µ–¥–µ–ª–∏

---

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

#### 1.1 –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø

```bash
# –ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø —Å–∞–π—Ç–∞
tar -czf backup-$(date +%Y%m%d).tar.gz /path/to/wordpress

# –ë—ç–∫–∞–ø functions.php
cp wp-content/themes/your-theme/functions.php functions.php.backup
```

#### 1.2 –°–æ–∑–¥–∞–π—Ç–µ —Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π

–û—Ç–∫—Ä–æ–π—Ç–µ `functions.php` –∏ —Å–æ—Å—Ç–∞–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π:

```bash
grep -n "^function " functions.php > functions-list.txt
```

#### 1.3 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ù–∞–π–¥–∏—Ç–µ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π –≤ —à–∞–±–ª–æ–Ω–∞—Ö —Ç–µ–º—ã:

```bash
grep -r "function_name" wp-content/themes/your-theme/
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–≥–∏–Ω–∞

#### 2.1 –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–ª–∞–≥–∏–Ω

```bash
cd wp-content/plugins/
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ parusweb-functions/
```

#### 2.2 –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω

```
WordPress Admin ‚Üí –ü–ª–∞–≥–∏–Ω—ã ‚Üí ParusWeb Functions ‚Üí –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
```

#### 2.3 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —Å–∞–π—Ç–∞

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±–æ–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –∫–æ–¥–∞:
- –°—Ç–∞—Ä—ã–π `functions.php`
- –ù–æ–≤—ã–π –ø–ª–∞–≥–∏–Ω

### –®–∞–≥ 3: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π

#### 3.1 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏ (–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

```
‚úÖ core-category-helpers
‚úÖ core-product-calculations
```

#### 3.2 –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ (–∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é)

```
ParusWeb ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª–µ–π

–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ:
‚òë display-calculators
‚òë cart-functionality
‚òë cart-display
‚òë orders-processing
‚òë admin-product-meta
‚òë feature-painting-services
```

#### 3.3 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ (–ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

```
‚òë feature-liter-products
‚òë feature-delivery-calc
‚òë feature-non-cash-price
‚òë integration-facet-filters
‚òë integration-mega-menu
```

### –®–∞–≥ 4: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è —Ñ—É–Ω–∫—Ü–∏–π

#### 4.1 –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `check-duplicates.php`:

```php
<?php
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è —Ñ—É–Ω–∫—Ü–∏–π

$functions_php = file_get_contents('functions.php');
$plugin_functions = [];

// –°–∫–∞–Ω–∏—Ä—É–µ–º –º–æ–¥—É–ª–∏ –ø–ª–∞–≥–∏–Ω–∞
foreach (glob('wp-content/plugins/parusweb-functions/modules/*/*.php') as $file) {
    $content = file_get_contents($file);
    preg_match_all('/function\s+([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/', $content, $matches);
    $plugin_functions = array_merge($plugin_functions, $matches[1]);
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º functions.php
preg_match_all('/function\s+([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/', $functions_php, $theme_matches);

$duplicates = array_intersect($theme_matches[1], $plugin_functions);

echo "–î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏:\n";
foreach ($duplicates as $func) {
    echo "- {$func}\n";
}
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
php check-duplicates.php
```

#### 4.2 –°–ø–∏—Å–æ–∫ —Ç–∏–ø–∏—á–Ω—ã—Ö –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è —Ñ—É–Ω–∫—Ü–∏–π

```php
// –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
is_area_category()
is_multiplier_category()
is_falsebalk_category()
is_square_meter_category()
is_running_meter_category()
is_partition_slat_category()
is_in_liter_categories()
is_leaf_category()
is_shtaketnik_category()

// –†–∞—Å—á—ë—Ç—ã
get_calculator_type()
extract_area_with_qty()
extract_dimensions_from_title()
calculate_min_price_area()
calculate_min_price_multiplier()
get_price_multiplier()

// –ü–æ–∫—Ä–∞—Å–∫–∞
get_acf_painting_services()
get_available_painting_services_by_material()

// –£—Ç–∏–ª–∏—Ç—ã
get_russian_plural_for_cart()
get_unit_forms()
get_unit_text()
```

### –®–∞–≥ 5: –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞

#### 5.1 –°–æ–∑–¥–∞–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª

```php
// functions-migration.php
<?php
// –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏
// –£–¥–∞–ª—è–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ –º–µ—Ä–µ –ø–µ—Ä–µ–Ω–æ—Å–∞

// –ë–õ–û–ö 1: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (–£–î–ê–õ–ò–¢–¨ –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ core-category-helpers)
// function is_area_category() { ... }
// function is_multiplier_category() { ... }
// ...
```

#### 5.2 –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

**–ò—Ç–µ—Ä–∞—Ü–∏—è 1:** –£–¥–∞–ª–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
```php
// –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤ functions.php:
// function is_area_category() { ... }
// function is_multiplier_category() { ... }
```

–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–∞–π—Ç ‚Üí –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –£–¥–∞–ª–∏—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–ò—Ç–µ—Ä–∞—Ü–∏—è 2:** –£–¥–∞–ª–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—á—ë—Ç–æ–≤
```php
// function extract_area_with_qty() { ... }
// function calculate_min_price_area() { ... }
```

–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ ‚Üí –£–¥–∞–ª–∏—Ç–µ

**–ò—Ç–µ—Ä–∞—Ü–∏—è 3:** –£–¥–∞–ª–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∫—Ä–∞—Å–∫–∏
**–ò—Ç–µ—Ä–∞—Ü–∏—è 4:** –£–¥–∞–ª–∏—Ç–µ –∫–æ—Ä–∑–∏–Ω—É
**–ò—Ç–µ—Ä–∞—Ü–∏—è 5:** –£–¥–∞–ª–∏—Ç–µ –∑–∞–∫–∞–∑—ã
**–ò—Ç–µ—Ä–∞—Ü–∏—è 6:** –£–¥–∞–ª–∏—Ç–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ

### –®–∞–≥ 6: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π

#### 6.1 –§—É–Ω–∫—Ü–∏–∏ —Å –∞–ª–∏–∞—Å–∞–º–∏ (—Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç –∞–ª–∏–∞—Å—ã –≤ –ø–ª–∞–≥–∏–Ω–µ:
```php
get_acf_painting_services() ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç
extract_area_with_qty() ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç
get_russian_plural_for_cart() ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç
```

**–ù–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ!**

#### 6.2 –§—É–Ω–∫—Ü–∏–∏ —Å –Ω–æ–≤—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏

–°—Ç–∞—Ä—ã–µ ‚Üí –ù–æ–≤—ã–µ:
```php
// –ë—ã–ª–æ
get_available_painting_services_by_material($id)

// –°—Ç–∞–ª–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
parusweb_get_painting_services_formatted($id)

// –ù–æ —Å—Ç–∞—Ä–æ–µ —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∞–ª–∏–∞—Å)
```

#### 6.3 –ü–æ–∏—Å–∫ –∏ –∑–∞–º–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è:

```bash
# –ù–∞–π–¥–∏—Ç–µ –≤—Å–µ –≤—ã–∑–æ–≤—ã
grep -r "get_available_painting_services_by_material" wp-content/themes/

# –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
sed -i 's/get_available_painting_services_by_material/parusweb_get_painting_services_formatted/g' file.php
```

### –®–∞–≥ 7: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ö—É–∫–æ–≤

#### 7.1 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏

–ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–ª—è–ª–∏ —Å–≤–æ–∏ `add_action` / `add_filter`:

```php
// –°—Ç–∞—Ä—ã–π –∫–æ–¥ –≤ functions.php
add_action('woocommerce_before_add_to_cart_button', 'my_custom_function');
```

**–û—Å—Ç–∞–≤—å—Ç–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π!** –•—É–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

#### 7.2 –•—É–∫–∏ –ø–ª–∞–≥–∏–Ω–∞

–ü–ª–∞–≥–∏–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ —Ö—É–∫–∏:

```php
// –ü—Ä–∏–º–µ—Ä—ã –Ω–æ–≤—ã—Ö —Ö—É–∫–æ–≤
do_action('parusweb_after_calculator');
apply_filters('parusweb_non_cash_markup', $markup, $product_id);
```

### –®–∞–≥ 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 8.1 –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ß–µ–∫–ª–∏—Å—Ç:

- [ ] –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
- [ ] –ö–æ—Ä–∑–∏–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- [ ] –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–∏—Å—å–º–∞ –æ –∑–∞–∫–∞–∑–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–∞–Ω–Ω—ã–µ
- [ ] –ê–¥–º–∏–Ω–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏
- [ ] –£—Å–ª—É–≥–∏ –ø–æ–∫—Ä–∞—Å–∫–∏ –≤—ã–±–∏—Ä–∞—é—Ç—Å—è
- [ ] –¢–æ–≤–∞—Ä—ã –∑–∞ –ª–∏—Ç—Ä —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –î–æ—Å—Ç–∞–≤–∫–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
- [ ] –¶–µ–Ω–∞ –ø–æ –±–µ–∑–Ω–∞–ª—É –≤—ã–≤–æ–¥–∏—Ç—Å—è

#### 8.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```bash
# –î–æ –º–∏–≥—Ä–∞—Ü–∏–∏
ab -n 100 -c 10 https://your-site.com/product/test/

# –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏
ab -n 100 -c 10 https://your-site.com/product/test/

# –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

#### 8.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
tail -f wp-content/debug.log
```

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫:
- PHP Fatal errors
- PHP Warnings
- Undefined functions

### –®–∞–≥ 9: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è

#### 9.1 –û—á–∏—Å—Ç–∫–∞ functions.php

–§–∏–Ω–∞–ª—å–Ω—ã–π `functions.php` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ:

```php
<?php
// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Bricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
include get_stylesheet_directory() . '/inc/briks-loader.php';

// –°—Ö–µ–º—ã –ø–æ–∫—Ä–∞—Å–∫–∏
require_once get_stylesheet_directory() . '/inc/pm-paint-schemes.php';

// –û–ø–∏—Å–∞–Ω–∏—è –ø–æ–∫—Ä–∞—Å–∫–∏
require_once get_stylesheet_directory() . '/inc/paint-description.php';

// –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
add_filter('woocommerce_get_price_html', 'my_custom_price', 10, 2);

// –ö–∞—Å—Ç–æ–º–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
add_action('wp_footer', 'my_custom_footer');
```

#### 9.2 –°–æ–∑–¥–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```markdown
# –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ ParusWeb Functions

–î–∞—Ç–∞: 2024-XX-XX
–í–µ—Ä—Å–∏—è –ø–ª–∞–≥–∏–Ω–∞: 2.0.0

## –ò–∑–º–µ–Ω–µ–Ω–∏—è
- –£–¥–∞–ª–µ–Ω–æ 3200 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –∏–∑ functions.php
- –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ 39 –º–æ–¥—É–ª–µ–π –ø–ª–∞–≥–∏–Ω–∞
- –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã –º–æ–¥—É–ª–∏: [—Å–ø–∏—Å–æ–∫]

## –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–¥
- my_custom_function() ‚Äî —Å—Ç—Ä–æ–∫–∞ 45
- my_custom_filter ‚Äî —Å—Ç—Ä–æ–∫–∞ 78
```

#### 9.3 –£–¥–∞–ª–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```bash
rm functions.php.backup
rm functions-migration.php
rm check-duplicates.php
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–°–∫—Ä–∏–ø—Ç: `verify-migration.php`

```php
<?php
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

$checks = [
    '–ü–ª–∞–≥–∏–Ω –∞–∫—Ç–∏–≤–µ–Ω' => class_exists('ParusWeb_Functions'),
    '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏' => parusweb_is_module_active('core-category-helpers'),
    '–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã' => parusweb_is_module_active('display-calculators'),
    '–ö–æ—Ä–∑–∏–Ω–∞' => parusweb_is_module_active('cart-functionality'),
];

foreach ($checks as $name => $result) {
    echo $result ? "‚úÖ {$name}\n" : "‚ùå {$name}\n";
}
```

### –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–æ–≤–∞—Ä** ‚Üí –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç?
2. **–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ—Ä–∑–∏–Ω—É** ‚Üí –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã?
3. **–û—Ñ–æ—Ä–º–∏—Ç–µ –∑–∞–∫–∞–∑** ‚Üí –í—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ?
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∏—Å—å–º–æ** ‚Üí –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å?
5. **–û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É** ‚Üí –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ –≤–∏–¥–Ω—ã?

---

## ‚ö†Ô∏è –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Call to undefined function"

**–°–∏–º–ø—Ç–æ–º:**
```
Fatal error: Call to undefined function is_area_category()
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–¥—É–ª—å –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```
ParusWeb ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª–µ–π ‚Üí –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–π –º–æ–¥—É–ª—å
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏

**–°–∏–º–ø—Ç–æ–º:**
```
Fatal error: Cannot redeclare function_name()
```

**–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∏ –≤ functions.php –∏ –≤ –ø–ª–∞–≥–∏–Ω–µ

**–†–µ—à–µ–Ω–∏–µ:**
```php
// –í functions.php –æ–±–µ—Ä–Ω–∏—Ç–µ –≤ –ø—Ä–æ–≤–µ—Ä–∫—É:
if (!function_exists('function_name')) {
    function function_name() {
        // ...
    }
}

// –ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ –∏–∑ functions.php –ø–æ–ª–Ω–æ—Å—Ç—å—é
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** JavaScript –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```
–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –º–æ–¥—É–ª—å: scripts-calculator
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∑–∞–∫–∞–∑–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–¥—É–ª—å orders-processing –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```
ParusWeb ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª–µ–π ‚Üí orders-processing
```

---

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- functions.php: 3500 —Å—Ç—Ä–æ–∫
- –ó–∞–≥—Ä—É–∑–∫–∞: ~150ms
- –ü–∞–º—è—Ç—å: ~45MB

### –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- –ú–æ–¥—É–ª–∏: 39 —Ñ–∞–π–ª–æ–≤ –ø–æ ~100-300 —Å—Ç—Ä–æ–∫
- –ó–∞–≥—Ä—É–∑–∫–∞: ~120ms (-20%)
- –ü–∞–º—è—Ç—å: ~40MB (-11%)
- –í—ã–±–æ—Ä–æ—á–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π

---

## üéØ –ß–µ–∫–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- [ ] –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø —Å–∞–π—Ç–∞
- [ ] –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø functions.php
- [ ] –°–æ—Å—Ç–∞–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
- [ ] –ü–ª–∞–≥–∏–Ω –∑–∞–≥—Ä—É–∂–µ–Ω
- [ ] –ü–ª–∞–≥–∏–Ω –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
- [ ] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

### –ú–∏–≥—Ä–∞—Ü–∏—è
- [ ] –ù–∞–π–¥–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –£–¥–∞–ª—ë–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Ö—É–∫–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –Ω–æ—Ä–º–µ
- [ ] –õ–æ–≥–∏ —á–∏—Å—Ç—ã–µ

### –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] functions.php –æ—á–∏—â–µ–Ω
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —É–¥–∞–ª–µ–Ω—ã

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π?

**Email:** support@parusweb.ru  
**Telegram:** @parusweb_support

---

**–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏: 1-4 –Ω–µ–¥–µ–ª–∏**  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å: –°—Ä–µ–¥–Ω—è—è**  
**–†–∏—Å–∫: –ù–∏–∑–∫–∏–π (–ø—Ä–∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏)**

üéâ **–£—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏!**
